"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initWorker=void 0;const worker_threads_1=require("worker_threads"),max_n_is_1=require("./max-n-is");function initWorker(e){const r=new worker_threads_1.Worker(__filename);return r.on("message",e),r}exports.initWorker=initWorker,!worker_threads_1.isMainThread&&(null===worker_threads_1.parentPort||void 0===worker_threads_1.parentPort||worker_threads_1.parentPort.on("message",main));const MAX_DEPTH=50;function main(e){const r=e.player;let t=1;for(;t<MAX_DEPTH;){let o=0;for(let a=0,n=e.gameStates.length;a<n;a++){const{index:n,gameState:s}=e.gameStates[a],_=max_n_is_1.maxNIS(s,t,o);o<_[r]&&(o=_[r]),null===worker_threads_1.parentPort||void 0===worker_threads_1.parentPort||worker_threads_1.parentPort.postMessage({index:n,score:_})}t+=1}}